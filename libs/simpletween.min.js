(function(h,g){SimpleTween=function(a,c,d,b){if(!SimpleSynchro)throw"The SimpleSynchro.js script is required to run SimpleTween";this.isPaused=!1;this.useJS=b.useJS||!1;this._css=!1;this._time=0;this._duration=c;this._elapsedTime=this._curTime=0;this._pausedTime={start:0,end:0};this.props=d;this._changeProps={};this._triggers=0;this._ease=function(a,c,e,b){return e*a/b+c};this._trigger={};this._delay=0;this._callback=null;this._isRunning=!1;if(b)this._trigger=b.trigger||{},this._ease=b.ease||function(a,
c,e,b){return e*a/b+c},this._delay=b.delay||0,this._callback=b.callback||null,this.isPaused=b.pause||!1,this.data=b.data||{};this._initializeJS=function(a){var c=SimpleTween._getCurrentStyle(this.target);for(prop in a){var e=c[prop]||"0",b=SimpleTween.getNormalizedName(prop),e={start:Number(e.replace(/[A-Za-z$]/g,"")),prop:b,end:a[prop],val:SimpleTween._getPropValue(prop)};if(b){if("transform"==prop)for(key in b=[],a[prop])b.push(key+SimpleTween._getPropValue(key)),e.val="none"==c[e.prop]?b.join(" "):
c[e.prop]+" "+b.join(" "),e.end=a[prop][key]}else if("opacity"==prop)e.prop="filter",e.val="alpha(opacity=%n%)",e.multiplier=100,e.start*=e.multiplier,e.end*=e.multiplier;this._setProp(e)}};this._initializeCSS=function(a){var b=SimpleTween._getCurrentStyle(this.target),c={},d=[];for(prop in a){var f=SimpleTween.getNormalizedName(prop);c.start=Number((b[prop]||"0").replace(/[A-Za-z$]/g,""));c.prop=f;c.end=a[prop];c.val=SimpleTween._getPropValue(prop);d.push(SimpleTween._getCSSName(f,c.val));if("transform"==
prop)for(key in f=[],a[prop])f.push(key+SimpleTween._getPropValue(key)),c.val=f.join(" "),c.end=a[prop][key];this._setProp(c)}a=SimpleTween.getNormalizedName("transitionProperty");b=SimpleTween.getNormalizedName("transitionDuration");c=SimpleTween.getNormalizedName("transitionTimingFunction");this.target.style[a]=null;this.target.style[b]=null;this.target.style[c]=null;this.target.style[a]=d.join(", ");this.target.style[b]=""+this._duration+"s";this.target.style[c]=this._ease};this._startCSS=function(){if(!this._isRunning){for(prop in this._changeProps){var a=
this._changeProps[prop];this.target.style[prop]=a.val.replace("%n%",a.end)}this._isRunning=!0}};this._setProp=function(a){this._changeProps[a.prop]={start:a.start,end:a.end,change:a.end-a.start,multiplier:a.multi||1,isForward:a.start<a.end?!0:!1,val:a.val||"%n%px"};for(tprop in this._trigger)if(tprop===prop)this._changeProps[prop].trigger=this._trigger[tprop],this._triggers++};this._setUID=function(){var a=this.target.getAttribute("data-tweenId");null!=a&&SimpleSynchro.removeListener(SimpleTween.getTweenByUID(a).stop());
this.uid=SimpleTween.TWEENS.push(this)-1;this.target.setAttribute("data-tweenId",this.uid)};this.initialize(a,d);SimpleSynchro.addListener(this)};SimpleTween.VERSION="0.471b";SimpleTween.TWEENS=[];var b=SimpleTween.prototype;b.target=null;b.isPlaying=!1;b.isComplete=!1;b.uid=0;b.data={};SimpleSynchro=h.SimpleSynchro;b.initialize=function(a,c){this.target=a;(this._css=SimpleTween.getNormalizedName("transition"))&&!this.useJS?this._initializeCSS(c):(this._initializeJS(c),this.useJS=!0);this._setUID();
this.isPaused||this.start()};b.tick=function(a){if(this.isPlaying&&!this.isPaused&&(a=a-this._time-this._pausedTime.end,!(0>a))){if(a>this._duration)this.isPlaying=this._isRunning=!1,this.isComplete=!0,this.target.removeAttribute("data-tweenId"),this.dispatch("onComplete");if(a>this._delay&&this._css&&!this.useJS)this._startCSS();else for(prop in this._changeProps){var c=this._changeProps[prop];this.target.style[prop]=c.val.replace("%n%",this.getPosition(a,c,prop)*c.multiplier)}}};b.delay=function(a){this._delay=
a||0;return this};b.callback=function(a){this._callback=a||null;return this};b.getPosition=function(a,c,b){b=SimpleTween._getCurrentStyle(this.target)[b];if(!this._css||this.useJS)b=Math.round(100*this._ease(a,c.start,c.change,this._duration))/100;if(c.trigger&&this.checkTrigger(b,c))this._triggers--,0==this._triggers&&this._trigger.callback.call(this,{target:this.target}),c.trigger=null;return b};b.checkTrigger=function(a,b){isNaN(a)&&(a=Number(a.replace(/[A-Za-z$]/g,"")));if(b.isForward){if(a>b.trigger)return!0}else if(a<
b.trigger)return!0;return!1};b.start=function(){this._time=SimpleSynchro.getTime()+this._delay;this.isPlaying=!0;this.isPaused=!1;this.dispatch("onStart");return this};b.stop=function(){this.isPlaying=!1;this.dispatch("onStop");return this};b.pause=function(){if(this.isPaused=!this.isPaused){if(this._css&&!this.useJS)for(prop in this._changeProps){var a=SimpleTween._getCurrentStyle(this.target);this.target.style[prop]=a[prop]}this._pausedTime.start=SimpleSynchro.getTime()-this._time;this.dispatch("onPause")}else this._css&&
!this.useJS&&this._initializeCSS(this.props),this._pausedTime.end=SimpleSynchro.getTime()-this._time-this._pausedTime.start,this.dispatch("onResume");return this};b.dispatch=function(a){if(this._callback&&this._callback[a])this._callback[a]({type:a,tween:this})};b.getElapsedTime=function(){return SimpleSynchro.getTime()-this._time-this._pausedTime.end};b.toString=function(){return"[object SimpleTween "+this.uid+"]"};SimpleTween.to=function(a,b,d,f){return new SimpleTween(a,b,d,f)};SimpleTween.getTweenByUID=
function(a){return SimpleTween.TWEENS[a]};SimpleTween.getNormalizedName=function(){var a=g.createElement("div"),b=["Webkit","ms","o","Moz"];return function(d){if(d in a.style)return d;for(var d=d.replace(/^[a-z]/,function(a){return a.toUpperCase()}),f=0,g=b.length;f<g;f++)if(b[f]+d in a.style)return b[f]+d;return!1}}();SimpleTween._getCurrentStyle=function(a){return"undefined"!=typeof a.currentStyle?a.currentStyle:g.defaultView.getComputedStyle(a,null)};SimpleTween._getCSSName=function(a,b){var d=
g.createElement("div");d.style[a]=b.replace("%n%","0");-1!=a.indexOf("Transform")&&(d.style[a]="rotate(0deg)");d=d.getAttribute("style");return d.substr(0,d.indexOf(":"))};SimpleTween._getPropValue=function(a){switch(a){case "opacity":return"%n%";case "skew":case "rotate":return"(%n%deg)";case "scale":return"(%n%)";default:return"%n%px"}};h.SimpleTween=SimpleTween})(window,document,void 0);