(function(g,h){SimpleTween=function(a,c,e,b){if(!SimpleSynchro)throw"The SimpleSynchro.js script is required to run SimpleTween";this.isPaused=!1;this.useJS=b.useJS||!1;this._css=!1;this._time=0;this._duration=c;this._elapsedTime=this._curTime=0;this._pausedTime={start:0,end:0};this.props=e;this._changeProps={};this._triggers=0;this._ease=function(a,b,d,c){return d*a/c+b};this._trigger={};this._delay=0;this._callback=null;this._isRunning=!1;if(b)this._trigger=b.trigger||{},this._ease=b.ease||function(a,
b,d,c){return d*a/c+b},this._delay=b.delay||0,this._callback=b.callback||null,this.isPaused=b.pause||!1,this.data=b.data||{};this._initializeJS=function(a){var b=SimpleTween._getCurrentStyle(this.target);for(prop in a){var d=b[prop]||"0",c=SimpleTween.getNormalizedName(prop),d={start:Number(d.replace(/[A-Za-z$]/g,"")),prop:c,end:a[prop],val:SimpleTween._getPropValue(prop)};if(c){if("transform"==prop)for(key in c=[],a[prop])c.push(key+SimpleTween._getPropValue(key)),d.val="none"==b[d.prop]?c.join(" "):
b[d.prop]+" "+c.join(" "),d.end=a[prop][key]}else if("opacity"==prop)c=b.filter,c=-1!=c.indexOf("opacity")?c.substring(0,c.indexOf("alpha"))+" alpha(opacity=%n%)":c+" alpha(opacity=%n%)",d.prop="filter",d.val=c,d.multiplier=100,d.start*=d.multiplier,d.end*=d.multiplier;this._setProp(d)}};this._initializeCSS=function(a){var c=SimpleTween._getCurrentStyle(this.target),b={},e=[];for(prop in a){var f=SimpleTween.getNormalizedName(prop);b.start=Number((c[prop]||"0").replace(/[A-Za-z$]/g,""));b.prop=f;
b.end=a[prop];b.val=SimpleTween._getPropValue(prop);e.push(SimpleTween._getCSSName(f,b.val));if("transform"==prop)for(key in f=[],a[prop])f.push(key+SimpleTween._getPropValue(key)),b.val=f.join(" "),b.end=a[prop][key];this._setProp(b)}a=SimpleTween.getNormalizedName("transitionProperty");c=SimpleTween.getNormalizedName("transitionDuration");b=SimpleTween.getNormalizedName("transitionTimingFunction");this.target.style[a]=null;this.target.style[c]=null;this.target.style[b]=null;this.target.style[a]=
e.join(", ");this.target.style[c]=""+this._duration+"s";this.target.style[b]=this._ease};this._startCSS=function(){if(!this._isRunning){for(prop in this._changeProps){var a=this._changeProps[prop];this.target.style[prop]=a.val.replace("%n%",a.end)}this._isRunning=!0}};this._setProp=function(a){this._changeProps[a.prop]={start:a.start,end:a.end,change:a.end-a.start,multiplier:a.multi||1,isForward:a.start<a.end?!0:!1,val:a.val||"%n%px"};for(tprop in this._trigger)if(tprop===prop)this._changeProps[prop].trigger=
this._trigger[tprop],this._triggers++};this._setUID=function(){var a=this.target.getAttribute("data-tweenId");null!=a&&SimpleSynchro.removeListener(SimpleTween.getTweenByUID(a).stop());this.uid=SimpleTween.TWEENS.push(this)-1;this.target.setAttribute("data-tweenId",this.uid)};this.initialize(a,e);SimpleSynchro.addListener(this)};SimpleTween.VERSION="0.471b";SimpleTween.TWEENS=[];var b=SimpleTween.prototype;b.target=null;b.isPlaying=!1;b.isComplete=!1;b.uid=0;b.data={};SimpleSynchro=g.SimpleSynchro;
b.initialize=function(a,c){this.target=a;(this._css=SimpleTween.getNormalizedName("transition"))&&!this.useJS?this._initializeCSS(c):(this._initializeJS(c),this.useJS=!0);this._setUID();this.isPaused||this.start()};b.tick=function(a){if(this.isPlaying&&!this.isPaused&&(a=a-this._time-this._pausedTime.end,!(0>a))){if(a>this._duration)this.isPlaying=this._isRunning=!1,this.isComplete=!0,this.target.removeAttribute("data-tweenId"),this.dispatch("onComplete");if(a>this._delay&&this._css&&!this.useJS)this._startCSS();
else for(prop in this._changeProps){var c=this._changeProps[prop];this.target.style[prop]=c.val.replace("%n%",this.getPosition(a,c,prop)*c.multiplier)}}};b.delay=function(a){this._delay=a||0;return this};b.callback=function(a){this._callback=a||null;return this};b.getPosition=function(a,c,b){b=SimpleTween._getCurrentStyle(this.target)[b];if(!this._css||this.useJS)b=Math.round(100*this._ease(a,c.start,c.change,this._duration))/100;if(c.trigger&&this.checkTrigger(b,c))this._triggers--,0==this._triggers&&
this._trigger.callback.call(this,{target:this.target}),c.trigger=null;return b};b.checkTrigger=function(a,b){isNaN(a)&&(a=Number(a.replace(/[A-Za-z$]/g,"")));if(b.isForward){if(a>b.trigger)return!0}else if(a<b.trigger)return!0;return!1};b.start=function(){this._time=SimpleSynchro.getTime()+this._delay;this.isPlaying=!0;this.isPaused=!1;this.dispatch("onStart");return this};b.stop=function(){this.isPlaying=!1;this.dispatch("onStop");return this};b.pause=function(){if(this.isPaused=!this.isPaused){if(this._css&&
!this.useJS)for(prop in this._changeProps){var a=SimpleTween._getCurrentStyle(this.target);this.target.style[prop]=a[prop]}this._pausedTime.start=SimpleSynchro.getTime()-this._time;this.dispatch("onPause")}else{this._pausedTime.end=SimpleSynchro.getTime()-this._time-this._pausedTime.start;if(this._css&&!this.useJS)this._isRunning=!1,this._initializeCSS(this.props);this.dispatch("onResume")}return this};b.dispatch=function(a){if(this._callback&&this._callback[a])this._callback[a]({type:a,tween:this})};
b.getElapsedTime=function(){return SimpleSynchro.getTime()-this._time-this._pausedTime.end};b.toString=function(){return"[object SimpleTween "+this.uid+"]"};SimpleTween.to=function(a,b,e,f){return new SimpleTween(a,b,e,f)};SimpleTween.getTweenByUID=function(a){return SimpleTween.TWEENS[a]};SimpleTween.getNormalizedName=function(a){var b=h.createElement("div"),e=["Webkit","ms","o","Moz"];if(a in b.style)return a;for(var a=a.replace(/^[a-z]/,function(a){return a.toUpperCase()}),f=0,g=e.length;f<g;f++)if(e[f]+
a in b.style)return e[f]+a;return!1};SimpleTween._getCurrentStyle=function(a){return"undefined"!=typeof a.currentStyle?a.currentStyle:h.defaultView.getComputedStyle(a,null)};SimpleTween._getCSSName=function(a,b){var e=h.createElement("div");e.style[a]=b.replace("%n%","0");-1!=a.indexOf("Transform")&&(e.style[a]="rotate(0deg)");e=e.getAttribute("style");return e.substr(0,e.indexOf(":"))};SimpleTween._getPropValue=function(a){switch(a){case "opacity":return"%n%";case "skew":case "rotate":return"(%n%deg)";
case "scale":return"(%n%)";default:return"%n%px"}};g.SimpleTween=SimpleTween})(window,document,void 0);